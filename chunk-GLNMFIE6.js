import{a as R,b as N,c as U,d as L,e as z,f as j,g as W,h as $,i as B,j as q}from"./chunk-RRZJHVZW.js";import{B as s,D as E,E as A,K as g,L as _,M as T,N as O,O as S,P as C,Q as t,R as n,S as P,T as x,U as f,V as d,X as y,Y as i,Z as b,_ as h,a as k,aa as w,ba as M,ca as v,ja as V,ka as I,m,n as p,ra as F,s as u,x as D}from"./chunk-E4F463IZ.js";var Y=(a,o)=>o.name,H=(a,o)=>o.id;function G(a,o){if(a&1&&(t(0,"div",15)(1,"span"),i(2,"\u274C"),n(),i(3),n()),a&2){let e=d(3);s(3),h(" ",e.error()," ")}}function K(a,o){if(a&1&&(t(0,"div",16)(1,"span"),i(2,"\u2705"),n(),i(3),n()),a&2){let e=d(3);s(3),h(" ",e.success()," ")}}function Q(a,o){a&1&&(P(0,"span",24),i(1," Logging in... "))}function X(a,o){a&1&&i(0," \u{1F510} Login ")}function Z(a,o){if(a&1){let e=x();t(0,"form",13),f("ngSubmit",function(){m(e);let r=d(2);return p(r.login())}),t(1,"h2",14),i(2,"Welcome Back"),n(),g(3,G,4,1,"div",15),g(4,K,4,1,"div",16),t(5,"div",17)(6,"label",18),i(7,"Username"),n(),t(8,"input",19),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.loginUsername,r)||(c.loginUsername=r),p(r)}),n()(),t(9,"div",17)(10,"label",20),i(11,"Password"),n(),t(12,"input",21),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.loginPassword,r)||(c.loginPassword=r),p(r)}),n()(),t(13,"button",22),g(14,Q,2,0)(15,X,1,0),n(),t(16,"p",23),i(17," Don't have an account? "),t(18,"button",12),f("click",function(){m(e);let r=d(2);return p(r.switchToSignup())}),i(19,"Sign Up"),n()()()}if(a&2){let e=d(2);s(3),_(e.error()?3:-1),s(),_(e.success()?4:-1),s(4),w("ngModel",e.loginUsername),C("disabled",e.loading()),s(4),w("ngModel",e.loginPassword),C("disabled",e.loading()),s(),C("disabled",e.loading()),s(),_(e.loading()?14:15)}}function ee(a,o){if(a&1&&(t(0,"div",15)(1,"span"),i(2,"\u274C"),n(),i(3),n()),a&2){let e=d(3);s(3),h(" ",e.error()," ")}}function te(a,o){a&1&&(P(0,"span",24),i(1," Submitting... "))}function ne(a,o){a&1&&i(0," \u{1F4DD} Request Access ")}function ie(a,o){if(a&1){let e=x();t(0,"form",13),f("ngSubmit",function(){m(e);let r=d(2);return p(r.signup())}),t(1,"h2",14),i(2,"Request Admin Access"),n(),g(3,ee,4,1,"div",15),t(4,"div",17)(5,"label",25),i(6,"Username"),n(),t(7,"input",26),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.signupUsername,r)||(c.signupUsername=r),p(r)}),n()(),t(8,"div",17)(9,"label",27),i(10,"Email"),n(),t(11,"input",28),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.signupEmail,r)||(c.signupEmail=r),p(r)}),n()(),t(12,"div",17)(13,"label",29),i(14,"Password"),n(),t(15,"input",30),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.signupPassword,r)||(c.signupPassword=r),p(r)}),n()(),t(16,"div",17)(17,"label",31),i(18,"Confirm Password"),n(),t(19,"input",32),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.signupConfirmPassword,r)||(c.signupConfirmPassword=r),p(r)}),n()(),t(20,"button",22),g(21,te,2,0)(22,ne,1,0),n(),t(23,"p",23),i(24," Already have an account? "),t(25,"button",12),f("click",function(){m(e);let r=d(2);return p(r.switchToLogin())}),i(26,"Login"),n()(),t(27,"p",33),i(28," \u26A0\uFE0F An OTP will be sent to the website owner for approval. "),n()()}if(a&2){let e=d(2);s(3),_(e.error()?3:-1),s(4),w("ngModel",e.signupUsername),C("disabled",e.loading()),s(4),w("ngModel",e.signupEmail),C("disabled",e.loading()),s(4),w("ngModel",e.signupPassword),C("disabled",e.loading()),s(4),w("ngModel",e.signupConfirmPassword),C("disabled",e.loading()),s(),C("disabled",e.loading()),s(),_(e.loading()?21:22)}}function oe(a,o){if(a&1&&(t(0,"div",15)(1,"span"),i(2,"\u274C"),n(),i(3),n()),a&2){let e=d(3);s(3),h(" ",e.error()," ")}}function ae(a,o){if(a&1&&(t(0,"div",16)(1,"span"),i(2,"\u2705"),n(),i(3),n()),a&2){let e=d(3);s(3),h(" ",e.success()," ")}}function re(a,o){a&1&&(P(0,"span",24),i(1," Verifying... "))}function se(a,o){a&1&&i(0," \u2713 Verify OTP ")}function le(a,o){if(a&1){let e=x();t(0,"form",13),f("ngSubmit",function(){m(e);let r=d(2);return p(r.verifyOTP())}),t(1,"h2",14),i(2,"Verify OTP"),n(),g(3,oe,4,1,"div",15),g(4,ae,4,1,"div",16),t(5,"p",34),i(6," An OTP has been sent to the website owner. Enter the OTP once you receive it from the owner. "),n(),t(7,"div",17)(8,"label",35),i(9,"Enter OTP"),n(),t(10,"input",36),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.verifyOtp,r)||(c.verifyOtp=r),p(r)}),n()(),t(11,"button",22),g(12,re,2,0)(13,se,1,0),n(),t(14,"p",23)(15,"button",12),f("click",function(){m(e);let r=d(2);return p(r.switchToLogin())}),i(16,"\u2190 Back to Login"),n()()()}if(a&2){let e=d(2);s(3),_(e.error()?3:-1),s(),_(e.success()?4:-1),s(6),w("ngModel",e.verifyOtp),C("disabled",e.loading()),s(),C("disabled",e.loading()),s(),_(e.loading()?12:13)}}function de(a,o){if(a&1){let e=x();t(0,"div",1)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),i(5,"<"),n(),t(6,"span",8),i(7,"Admin"),n(),t(8,"span",7),i(9,"/>"),n()(),t(10,"p",9),i(11,"Portfolio Dashboard Access"),n()(),g(12,Z,20,8,"form",10),g(13,ie,29,11,"form",10),g(14,le,17,6,"form",10),t(15,"div",11)(16,"button",12),f("click",function(){m(e);let r=d();return p(r.goToWebsite())}),i(17," \u2190 Back to Portfolio Website "),n()()()()}if(a&2){let e=d();s(12),_(e.currentView()==="login"?12:-1),s(),_(e.currentView()==="signup"?13:-1),s(),_(e.currentView()==="verify"?14:-1)}}function ce(a,o){if(a&1&&(t(0,"div",66)(1,"span",67),i(2,"\u{1F510}"),n(),t(3,"div",68)(4,"span",69),i(5),n(),t(6,"span",70),i(7,"Access Requests"),n()()(),t(8,"div",66)(9,"span",67),i(10,"\u{1F4E7}"),n(),t(11,"div",68)(12,"span",69),i(13),n(),t(14,"span",70),i(15,"Unread Messages"),n()()()),a&2){let e=d(2);s(5),b(e.stats().accessRequests.total),s(8),b(e.stats().contactMessages.unread)}}function me(a,o){if(a&1){let e=x();t(0,"button",71),f("click",function(){let r=m(e).$implicit,c=d(2);return p(c.selectTable(r.name))}),t(1,"span",52),i(2),n(),t(3,"span",53),i(4),n()()}if(a&2){let e=o.$implicit,l=d(2);y("active",l.selectedTable()===e.name),C("title",e.displayName),s(2),b(e.icon),s(),y("hidden",l.sidebarCollapsed()),s(),b(e.displayName)}}function pe(a,o){a&1&&(t(0,"div",63),P(1,"span",72),t(2,"p"),i(3,"Loading data..."),n()())}function ge(a,o){a&1&&(t(0,"div",64)(1,"span",73),i(2,"\u{1F4ED}"),n(),t(3,"p"),i(4,"No records found"),n()())}function _e(a,o){if(a&1&&(t(0,"th"),i(1),n()),a&2){let e=o.$implicit;s(),b(e)}}function fe(a,o){if(a&1){let e=x();t(0,"label",81)(1,"input",82),f("change",function(){m(e);let r=d(2).$implicit,c=d(3);return p(c.toggleStatus(r))}),n(),P(2,"span",83),n()}if(a&2){let e=d().$implicit,l=d().$implicit;C("title",l[e]===1?"Active - Click to deactivate":"Inactive - Click to activate"),s(),C("checked",l[e]===1)}}function ue(a,o){if(a&1&&i(0),a&2){let e=d().$implicit,l=d().$implicit,r=d(3);h(" ",r.formatCellValue(l[e],e)," ")}}function be(a,o){if(a&1&&(t(0,"td",77),g(1,fe,3,2,"label",81)(2,ue,1,1),n()),a&2){let e=o.$implicit,l=d().$implicit,r=d(3);C("title",l[e]),s(),_(r.selectedTable()==="visitor_access_requests"&&e==="status_id"?1:2)}}function Ce(a,o){if(a&1){let e=x();t(0,"button",84),f("click",function(){m(e);let r=d().$implicit,c=d(3);return p(c.viewMessage(r))}),i(1," \u{1F441}\uFE0F "),n()}}function xe(a,o){if(a&1){let e=x();t(0,"button",85),f("click",function(){m(e);let r=d().$implicit,c=d(3);return p(c.editRecord(r))}),i(1," \u270F\uFE0F "),n()}}function he(a,o){if(a&1){let e=x();t(0,"button",86),f("click",function(){m(e);let r=d().$implicit,c=d(3);return p(c.deleteRecord(r.id))}),i(1," \u{1F5D1}\uFE0F "),n()}}function ye(a,o){if(a&1&&(t(0,"tr")(1,"td",75),i(2),n(),O(3,be,3,2,"td",77,T),t(5,"td",76),g(6,Ce,2,0,"button",78),g(7,xe,2,0,"button",79),g(8,he,2,0,"button",80),n()()),a&2){let e=o.$index,l=d(3);s(2),b(e+1),s(),S(l.tableColumns()),s(3),_(l.selectedTable()==="contact_messages"?6:-1),s(),_(l.selectedTable()==="visitor_access_requests"?7:-1),s(),_(l.selectedTable()!=="admin_users"?8:-1)}}function we(a,o){if(a&1&&(t(0,"div",65)(1,"table",74)(2,"thead")(3,"tr")(4,"th",75),i(5,"S.No"),n(),O(6,_e,2,1,"th",null,T),t(8,"th",76),i(9,"Actions"),n()()(),t(10,"tbody"),O(11,ye,9,4,"tr",null,H),n()()()),a&2){let e=d(2);s(6),S(e.tableColumns()),s(5),S(e.tableData())}}function Me(a,o){if(a&1){let e=x();t(0,"div",2)(1,"aside",37)(2,"div",38)(3,"div",39)(4,"span",7),i(5,"<"),n(),t(6,"span",8),i(7,"Admin"),n(),t(8,"span",7),i(9,"/>"),n()(),t(10,"button",40),f("click",function(){m(e);let r=d();return p(r.toggleSidebar())}),i(11),n()(),t(12,"div",41)(13,"div",42),i(14),n(),t(15,"div",43)(16,"span",44),i(17),n(),t(18,"span",45),i(19),n()()(),t(20,"div",46),g(21,ce,16,2),n(),t(22,"nav",47)(23,"h3",48),i(24,"\u{1F4CA} Database Tables"),n(),O(25,me,5,7,"button",49,Y),n(),t(27,"div",50)(28,"button",51),f("click",function(){m(e);let r=d();return p(r.goToWebsite())}),t(29,"span",52),i(30,"\u{1F310}"),n(),t(31,"span",53),i(32,"Back to Website"),n()(),t(33,"button",54),f("click",function(){m(e);let r=d();return p(r.logout())}),t(34,"span",52),i(35,"\u{1F6AA}"),n(),t(36,"span",53),i(37,"Logout"),n()()()(),t(38,"main",55)(39,"header",56)(40,"div",57)(41,"h1",58),i(42),n(),t(43,"span",59),i(44),n()(),t(45,"div",60)(46,"button",61),f("click",function(){m(e);let r=d();return p(r.refreshTable())}),i(47," \u{1F504} Refresh "),n()()(),t(48,"div",62),g(49,pe,4,0,"div",63)(50,ge,5,0,"div",64)(51,we,13,0,"div",65),n()()()}if(a&2){let e,l,r,c=d();s(),y("collapsed",c.sidebarCollapsed()),s(2),y("hidden",c.sidebarCollapsed()),s(8),h(" ",c.sidebarCollapsed()?"\u2192":"\u2190"," "),s(),y("hidden",c.sidebarCollapsed()),s(2),b((e=c.currentUser())==null||e.username==null||(e=e.username.charAt(0))==null?null:e.toUpperCase()),s(3),b((l=c.currentUser())==null?null:l.username),s(2),b((r=c.currentUser())==null?null:r.email),s(),y("hidden",c.sidebarCollapsed()),s(),_(c.stats()?21:-1),s(2),y("hidden",c.sidebarCollapsed()),s(2),S(c.tables()),s(6),y("hidden",c.sidebarCollapsed()),s(5),y("hidden",c.sidebarCollapsed()),s(6),h(" ",c.selectedTableDisplayName," "),s(2),h(" ",c.tableData().length," records "),s(2),C("disabled",c.tableLoading()),s(3),_(c.tableLoading()?49:c.tableData().length===0?50:51)}}function ve(a,o){if(a&1){let e=x();t(0,"div",102)(1,"div",104),i(2," \u2705 Reply saved! Copy the details below and send from your email. "),n(),t(3,"div",105)(4,"div",106)(5,"span",107),i(6,"To:"),n(),t(7,"span",108),i(8),n()(),t(9,"div",106)(10,"span",107),i(11,"Subject:"),n(),t(12,"span",108),i(13),n()(),t(14,"div",106)(15,"span",107),i(16,"Message:"),n()(),t(17,"div",109),i(18),n()(),t(19,"button",110),f("click",function(){m(e);let r=d(2);return p(r.closeMessageModal())}),i(20,"Done"),n()()}if(a&2){let e=d(2);s(8),b(e.replyDetails().to),s(5),b(e.replyDetails().subject),s(5),b(e.replyDetails().body)}}function Pe(a,o){if(a&1&&(t(0,"div",103),i(1),n()),a&2){let e=d(2);s(),h(" \u274C ",e.replyError()," ")}}function Oe(a,o){a&1&&(P(0,"span",24),i(1," Sending... "))}function Se(a,o){if(a&1&&i(0),a&2){let e=d(3);h(" \u{1F4E4} Send Reply to ",e.selectedMessage().sender_email," ")}}function ke(a,o){if(a&1){let e=x();t(0,"textarea",111),v("ngModelChange",function(r){m(e);let c=d(2);return M(c.replyText,r)||(c.replyText=r),p(r)}),n(),t(1,"button",112),f("click",function(){m(e);let r=d(2);return p(r.sendReply())}),g(2,Oe,2,0)(3,Se,1,1),n()}if(a&2){let e=d(2);w("ngModel",e.replyText),C("disabled",e.replySending()),s(),C("disabled",e.replySending()||!e.replyText.trim()),s(),_(e.replySending()?2:3)}}function Ee(a,o){if(a&1){let e=x();t(0,"div",87),f("click",function(){m(e);let r=d();return p(r.closeMessageModal())}),t(1,"div",88),f("click",function(r){return m(e),p(r.stopPropagation())}),t(2,"div",89)(3,"h2"),i(4,"\u{1F4E7} Message Details"),n(),t(5,"button",90),f("click",function(){m(e);let r=d();return p(r.closeMessageModal())}),i(6,"\u2715"),n()(),t(7,"div",91)(8,"div",92)(9,"div",93)(10,"span",94),i(11,"From:"),n(),t(12,"span",95),i(13),n()(),t(14,"div",93)(15,"span",94),i(16,"Email:"),n(),t(17,"span",96),i(18),n()(),t(19,"div",93)(20,"span",94),i(21,"Subject:"),n(),t(22,"span",95),i(23),n()(),t(24,"div",93)(25,"span",94),i(26,"Date:"),n(),t(27,"span",95),i(28),n()(),t(29,"div",97)(30,"span",98),i(31),n(),t(32,"span",98),i(33),n()()(),t(34,"div",99)(35,"h3"),i(36,"Message:"),n(),t(37,"div",100),i(38),n()(),t(39,"div",101)(40,"h3"),i(41,"\u{1F4DD} Send Reply"),n(),g(42,ve,21,3,"div",102),g(43,Pe,2,1,"div",103),g(44,ke,4,4),n()()()()}if(a&2){let e=d();s(13),b(e.selectedMessage().sender_name),s(5),b(e.selectedMessage().sender_email),s(5),b(e.selectedMessage().subject||"No Subject"),s(5),b(e.selectedMessage().local_time||e.formatDate(e.selectedMessage().created_at)),s(2),y("read",e.selectedMessage().is_read),s(),h(" ",e.selectedMessage().is_read?"\u2705 Read":"\u{1F4E9} Unread"," "),s(),y("replied",e.selectedMessage().is_replied),s(),h(" ",e.selectedMessage().is_replied?"\u2705 Replied":"\u23F3 Not Replied"," "),s(5),b(e.selectedMessage().message),s(4),_(e.replySuccess()&&e.replyDetails()?42:-1),s(),_(e.replyError()?43:-1),s(),_(e.replySuccess()?-1:44)}}function Te(a,o){a&1&&(t(0,"div",116),i(1," \u2705 Record updated successfully! "),n())}function De(a,o){if(a&1&&(t(0,"div",117),i(1),n()),a&2){let e=d(2);s(),h(" \u274C ",e.editError()," ")}}function Ae(a,o){a&1&&(t(0,"span",126),i(1,"\u{1F7E2} Active (status_id = 1)"),n(),t(2,"span",127),i(3,"User can access without OTP"),n())}function Ve(a,o){a&1&&(t(0,"span",128),i(1,"\u{1F534} Inactive (status_id = 2)"),n(),t(2,"span",127),i(3,"User needs OTP to access"),n())}function Ie(a,o){a&1&&(P(0,"span",24),i(1," Saving... "))}function Fe(a,o){a&1&&i(0," \u{1F4BE} Save Changes ")}function Re(a,o){if(a&1){let e=x();t(0,"div",87),f("click",function(){m(e);let r=d();return p(r.closeEditModal())}),t(1,"div",113),f("click",function(r){return m(e),p(r.stopPropagation())}),t(2,"div",89)(3,"h2"),i(4,"\u270F\uFE0F Edit Access Request"),n(),t(5,"button",90),f("click",function(){m(e);let r=d();return p(r.closeEditModal())}),i(6,"\u2715"),n()(),t(7,"div",91)(8,"div",114)(9,"div",93)(10,"span",94),i(11,"ID:"),n(),t(12,"span",95),i(13),n()(),t(14,"div",93)(15,"span",94),i(16,"Visitor:"),n(),t(17,"span",95),i(18),n()(),t(19,"div",93)(20,"span",94),i(21,"Email:"),n(),t(22,"span",96),i(23),n()(),t(24,"div",93)(25,"span",94),i(26,"Project:"),n(),t(27,"span",95),i(28),n()(),t(29,"div",93)(30,"span",94),i(31,"Type:"),n(),t(32,"span",95),i(33),n()(),t(34,"div",93)(35,"span",94),i(36,"Created:"),n(),t(37,"span",95),i(38),n()()(),t(39,"div",115),g(40,Te,2,0,"div",116),g(41,De,2,1,"div",117),t(42,"div",118)(43,"label",119)(44,"input",120),v("ngModelChange",function(r){m(e);let c=d();return M(c.editFormData.status_active,r)||(c.editFormData.status_active=r),p(r)}),n(),P(45,"span",121),t(46,"span",122),g(47,Ae,4,0)(48,Ve,4,0),n()()(),t(49,"div",123)(50,"button",124),f("click",function(){m(e);let r=d();return p(r.closeEditModal())}),i(51," Cancel "),n(),t(52,"button",125),f("click",function(){m(e);let r=d();return p(r.saveEditedRecord())}),g(53,Ie,2,0)(54,Fe,1,0),n()()()()()()}if(a&2){let e=d();s(13),b(e.editingRecord().id),s(5),b(e.editingRecord().visitor_name),s(5),b(e.editingRecord().visitor_email),s(5),b(e.editingRecord().project_name),s(5),b(e.editingRecord().project_type),s(5),b(e.editingRecord().local_time||e.formatDate(e.editingRecord().created_at)),s(2),_(e.editSuccess()?40:-1),s(),_(e.editError()?41:-1),s(3),w("ngModel",e.editFormData.status_active),C("disabled",e.editSaving()),s(3),_(e.editFormData.status_active?47:48),s(3),C("disabled",e.editSaving()),s(2),C("disabled",e.editSaving()),s(),_(e.editSaving()?53:54)}}var J=class a{constructor(o,e){this.router=o;this.isBrowser=I(e)}API_URL="https://mb-port-production.up.railway.app/api";isBrowser;isLoggedIn=u(!1);currentView=u("login");loginUsername="";loginPassword="";signupUsername="";signupEmail="";signupPassword="";signupConfirmPassword="";verifyEmail="";verifyOtp="";loading=u(!1);error=u("");success=u("");generatedOtp=u("");currentUser=u(null);tables=u([]);selectedTable=u("");tableColumns=u([]);tableData=u([]);tableLoading=u(!1);stats=u(null);sidebarCollapsed=u(!1);showMessageModal=u(!1);selectedMessage=u(null);replyText="";replySending=u(!1);replySuccess=u(!1);replyError=u("");replyDetails=u(null);showEditModal=u(!1);editingRecord=u(null);editFormData={};editSaving=u(!1);editError=u("");editSuccess=u(!1);get selectedTableDisplayName(){return this.tables().find(e=>e.name===this.selectedTable())?.displayName||"Dashboard"}web3formsKey="12694df3-42eb-4a6d-aaa5-1384c8c93dde";ownerEmail="bmsnr4262@gmail.com";ngOnInit(){if(this.isBrowser){let o=sessionStorage.getItem("adminUser"),e=sessionStorage.getItem("adminToken");o&&e&&(this.currentUser.set(JSON.parse(o)),this.isLoggedIn.set(!0),this.currentView.set("dashboard"),this.loadDashboard())}}switchToSignup(){this.currentView.set("signup"),this.clearMessages()}switchToLogin(){this.currentView.set("login"),this.clearMessages()}clearMessages(){this.error.set(""),this.success.set("")}async login(){if(!this.loginUsername||!this.loginPassword){this.error.set("Please enter username and password");return}this.loading.set(!0),this.clearMessages();try{let e=await(await fetch(`${this.API_URL}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.loginUsername,password:this.loginPassword})})).json();e.success?(this.isBrowser&&(sessionStorage.setItem("adminUser",JSON.stringify(e.user)),sessionStorage.setItem("adminToken",e.token)),this.currentUser.set(e.user),this.isLoggedIn.set(!0),this.currentView.set("dashboard"),this.loadDashboard()):this.error.set(e.message||"Login failed")}catch(o){console.error("Login error:",o),this.error.set("Connection error. Please try again.")}finally{this.loading.set(!1)}}async signup(){if(!this.signupUsername||!this.signupEmail||!this.signupPassword){this.error.set("Please fill in all fields");return}if(this.signupPassword!==this.signupConfirmPassword){this.error.set("Passwords do not match");return}if(this.signupPassword.length<6){this.error.set("Password must be at least 6 characters");return}this.loading.set(!0),this.clearMessages();try{let e=await(await fetch(`${this.API_URL}/admin/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.signupUsername,email:this.signupEmail,password:this.signupPassword})})).json();e.success?(await this.sendOtpToOwner(e.otp,this.signupUsername,this.signupEmail),this.generatedOtp.set(e.otp),this.verifyEmail=this.signupEmail,this.currentView.set("verify"),this.success.set("Signup request submitted! OTP has been sent to the owner for approval.")):this.error.set(e.message||"Signup failed")}catch(o){console.error("Signup error:",o),this.error.set("Connection error. Please try again.")}finally{this.loading.set(!1)}}async sendOtpToOwner(o,e,l){try{let r=new FormData;r.append("access_key",this.web3formsKey),r.append("to",this.ownerEmail),r.append("subject",`[ADMIN SIGNUP] New admin request from ${e}`),r.append("message",`
New Admin Signup Request

Username: ${e}
Email: ${l}
Time: ${new Date().toLocaleString()}

APPROVAL OTP: ${o}

This OTP is valid for 10 minutes.
Share this OTP with the user if you want to approve their admin access.
      `),await fetch("https://api.web3forms.com/submit",{method:"POST",body:r}),console.log("OTP email sent to owner")}catch(r){console.error("Failed to send OTP email:",r)}}async verifyOTP(){if(!this.verifyEmail||!this.verifyOtp){this.error.set("Please enter the OTP");return}this.loading.set(!0),this.clearMessages();try{let e=await(await fetch(`${this.API_URL}/admin/verify-signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.verifyEmail,otp:this.verifyOtp})})).json();e.success?(this.success.set("Account verified! You can now login."),this.currentView.set("login"),this.loginUsername=this.signupUsername):this.error.set(e.message||"Verification failed")}catch(o){console.error("Verify error:",o),this.error.set("Connection error. Please try again.")}finally{this.loading.set(!1)}}logout(){this.isBrowser&&(sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("adminToken")),this.currentUser.set(null),this.isLoggedIn.set(!1),this.currentView.set("login"),this.loginUsername="",this.loginPassword=""}async loadDashboard(){await Promise.all([this.loadTables(),this.loadStats()])}async loadTables(){try{let e=await(await fetch(`${this.API_URL}/admin/tables`)).json();e.success&&(this.tables.set(e.data),e.data.length>0&&this.selectTable(e.data[0].name))}catch(o){console.error("Failed to load tables:",o)}}async loadStats(){try{let e=await(await fetch(`${this.API_URL}/admin/dashboard-stats`)).json();e.success&&this.stats.set(e.data)}catch(o){console.error("Failed to load stats:",o)}}async selectTable(o){this.selectedTable.set(o),this.tableLoading.set(!0);try{let l=await(await fetch(`${this.API_URL}/admin/tables/${o}`)).json();l.success&&(this.tableColumns.set(l.columns),this.tableData.set(l.data))}catch(e){console.error("Failed to load table data:",e)}finally{this.tableLoading.set(!1)}}refreshTable(){this.selectedTable()&&this.selectTable(this.selectedTable())}async deleteRecord(o){if(confirm("Are you sure you want to delete this record?"))try{let l=await(await fetch(`${this.API_URL}/admin/tables/${this.selectedTable()}/${o}`,{method:"DELETE"})).json();l.success?(this.refreshTable(),this.loadStats()):alert(l.message||"Failed to delete")}catch(e){console.error("Failed to delete record:",e),alert("Failed to delete record")}}toggleSidebar(){this.sidebarCollapsed.update(o=>!o)}goToWebsite(){this.router.navigate(["/"])}formatDate(o){return o?new Date(o).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"-"}formatCellValue(o,e){return o==null?"-":typeof o=="boolean"?o?"\u2705 Yes":"\u274C No":e.includes("_at")||e==="created_at"||e==="verified_at"?this.formatDate(o):typeof o=="string"&&o.length>50?o.substring(0,50)+"...":String(o)}viewMessage(o){this.selectedMessage.set(o),this.showMessageModal.set(!0),this.replyText="",this.replySuccess.set(!1),this.replyError.set(""),o.is_read||this.markMessageAsRead(o.id)}closeMessageModal(){this.showMessageModal.set(!1),this.selectedMessage.set(null),this.replyText="",this.replySuccess.set(!1),this.replyError.set("")}async markMessageAsRead(o){try{await fetch(`${this.API_URL}/contact-messages/${o}/read`,{method:"PATCH"}),this.refreshTable(),this.loadStats()}catch(e){console.error("Failed to mark as read:",e)}}async toggleStatus(o){let e=o.status_id===1?2:1;try{let r=await(await fetch(`${this.API_URL}/admin/tables/${this.selectedTable()}/${o.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status_id:e})})).json();r.success?(o.status_id=e,this.loadStats()):(console.error("Failed to update status:",r.message),alert("Failed to update status"))}catch(l){console.error("Failed to toggle status:",l),alert("Failed to update status")}}editRecord(o){this.editingRecord.set(k({},o)),this.editFormData=k({},o),this.editFormData.status_active=this.editFormData.status_id===1,this.showEditModal.set(!0),this.editError.set(""),this.editSuccess.set(!1)}closeEditModal(){this.showEditModal.set(!1),this.editingRecord.set(null),this.editFormData={},this.editError.set(""),this.editSuccess.set(!1)}async saveEditedRecord(){let o=this.editingRecord();if(o){this.editSaving.set(!0),this.editError.set("");try{let e={status_id:this.editFormData.status_active?1:2},r=await(await fetch(`${this.API_URL}/admin/tables/${this.selectedTable()}/${o.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();r.success?(this.editSuccess.set(!0),setTimeout(()=>{this.closeEditModal(),this.refreshTable(),this.loadStats()},1e3)):this.editError.set(r.message||"Failed to update record")}catch(e){console.error("Failed to update record:",e),this.editError.set("Failed to update record. Please try again.")}finally{this.editSaving.set(!1)}}}async sendReply(){let o=this.selectedMessage();if(!o||!this.replyText.trim()){this.replyError.set("Please enter a reply message");return}this.replySending.set(!0),this.replyError.set("");try{let l=await(await fetch(`${this.API_URL}/send-reply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to_email:o.sender_email,to_name:o.sender_name,subject:o.subject||"Your Message",original_message:o.message,reply_message:this.replyText})})).json();l.success?(await fetch(`${this.API_URL}/contact-messages/${o.id}/replied`,{method:"PATCH"}),this.replySuccess.set(!0),this.replyDetails.set(l.replyDetails||{to:`${o.sender_name} <${o.sender_email}>`,subject:`Re: ${o.subject||"Your Message"}`,body:this.replyText}),this.refreshTable(),this.loadStats()):this.replyError.set(l.message||"Failed to save reply. Please try again.")}catch(e){console.error("Failed to send reply:",e),this.replyError.set("Failed to send reply. Please try again.")}finally{this.replySending.set(!1)}}static \u0275fac=function(e){return new(e||a)(E(F),E(D))};static \u0275cmp=A({type:a,selectors:[["app-admin"]],decls:5,vars:4,consts:[[1,"admin-container"],[1,"auth-wrapper"],[1,"dashboard"],[1,"modal-overlay"],[1,"auth-card"],[1,"auth-header"],[1,"auth-logo"],[1,"logo-bracket"],[1,"logo-text"],[1,"auth-subtitle"],[1,"auth-form"],[1,"back-to-site"],["type","button",1,"link-btn",3,"click"],[1,"auth-form",3,"ngSubmit"],[1,"form-title"],[1,"message","error"],[1,"message","success"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","placeholder","Enter your username","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"btn-primary",3,"disabled"],[1,"auth-switch"],[1,"spinner"],["for","signupUsername"],["type","text","id","signupUsername","name","signupUsername","placeholder","Choose a username","required","",3,"ngModelChange","ngModel","disabled"],["for","signupEmail"],["type","email","id","signupEmail","name","signupEmail","placeholder","Enter your email","required","",3,"ngModelChange","ngModel","disabled"],["for","signupPassword"],["type","password","id","signupPassword","name","signupPassword","placeholder","Choose a password (min 6 characters)","required","",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","required","",3,"ngModelChange","ngModel","disabled"],[1,"auth-note"],[1,"verify-info"],["for","otp"],["type","text","id","otp","name","otp","placeholder","Enter 6-digit OTP","maxlength","6","required","",1,"otp-input",3,"ngModelChange","ngModel","disabled"],[1,"sidebar"],[1,"sidebar-header"],[1,"sidebar-logo"],[1,"toggle-btn",3,"click"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-email"],[1,"stats-section"],[1,"sidebar-nav"],[1,"nav-title"],[1,"nav-item",3,"active","title"],[1,"sidebar-footer"],["title","Back to Website",1,"nav-item","website-link",3,"click"],[1,"nav-icon"],[1,"nav-text"],["title","Logout",1,"nav-item","logout-btn",3,"click"],[1,"main-content"],[1,"content-header"],[1,"header-left"],[1,"page-title"],[1,"record-count"],[1,"header-actions"],[1,"btn-refresh",3,"click","disabled"],[1,"table-container"],[1,"loading-state"],[1,"empty-state"],[1,"table-wrapper"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"nav-item",3,"click","title"],[1,"spinner","large"],[1,"empty-icon"],[1,"data-table"],[1,"sno-col"],[1,"actions-col"],[3,"title"],["title","View & Reply",1,"action-btn","view"],["title","Edit",1,"action-btn","edit"],["title","Delete",1,"action-btn","delete"],[1,"inline-checkbox",3,"title"],["type","checkbox",3,"change","checked"],[1,"inline-checkmark"],["title","View & Reply",1,"action-btn","view",3,"click"],["title","Edit",1,"action-btn","edit",3,"click"],["title","Delete",1,"action-btn","delete",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"message-info"],[1,"info-row"],[1,"info-label"],[1,"info-value"],[1,"info-value","email"],[1,"info-row","status-row"],[1,"status-badge"],[1,"message-content"],[1,"message-text"],[1,"reply-section"],[1,"reply-success-box"],[1,"reply-message","error"],[1,"reply-message","success"],[1,"copy-section"],[1,"copy-row"],[1,"copy-label"],[1,"copy-value"],[1,"copy-body"],[1,"btn-close-modal",3,"click"],["placeholder","Type your reply here...","rows","5",1,"reply-textarea",3,"ngModelChange","ngModel","disabled"],[1,"btn-send-reply",3,"click","disabled"],[1,"modal-content","edit-modal",3,"click"],[1,"edit-info"],[1,"edit-form"],[1,"edit-message","success"],[1,"edit-message","error"],[1,"status-control"],[1,"checkbox-container"],["type","checkbox",3,"ngModelChange","ngModel","disabled"],[1,"checkmark"],[1,"checkbox-label"],[1,"edit-actions"],[1,"btn-cancel",3,"click","disabled"],[1,"btn-save",3,"click","disabled"],[1,"status-active"],[1,"status-desc"],[1,"status-inactive"]],template:function(e,l){e&1&&(t(0,"div",0),g(1,de,18,3,"div",1),g(2,Me,52,23,"div",2),g(3,Ee,45,14,"div",3),g(4,Re,55,14,"div",3),n()),e&2&&(s(),_(l.isLoggedIn()?-1:1),s(),_(l.isLoggedIn()?2:-1),s(),_(l.showMessageModal()&&l.selectedMessage()?3:-1),s(),_(l.showEditModal()&&l.editingRecord()?4:-1))},dependencies:[V,q,W,N,R,U,L,$,B,j,z],styles:['[_nghost-%COMP%]{display:block;min-height:100vh;background:#0a0a0b}.admin-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#0a0a0b,#1a1a1d)}.auth-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem;background:radial-gradient(circle at 20% 20%,rgba(245,158,11,.05) 0%,transparent 40%),radial-gradient(circle at 80% 80%,rgba(245,158,11,.03) 0%,transparent 40%)}.auth-card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:#1a1a1de6;border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2.5rem;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-logo[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;font-family:JetBrains Mono,monospace;margin-bottom:.5rem}.logo-bracket[_ngcontent-%COMP%]{color:#f59e0b}.logo-text[_ngcontent-%COMP%]{color:#fff}.auth-subtitle[_ngcontent-%COMP%]{color:#ffffff80;font-size:.9rem}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff;text-align:center;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#ffffffb3}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.875rem 1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;font-size:1rem;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;background:#ffffff14}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.otp-input[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem!important;letter-spacing:.5rem;font-family:JetBrains Mono,monospace}.btn-primary[_ngcontent-%COMP%]{padding:1rem;background:linear-gradient(135deg,#f59e0b,#d97706);border:none;border-radius:8px;color:#000;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.message[_ngcontent-%COMP%]{padding:.875rem 1rem;border-radius:8px;display:flex;align-items:center;gap:.5rem;font-size:.9rem}.message.error[_ngcontent-%COMP%]{background:#ef444426;border:1px solid rgba(239,68,68,.3);color:#f87171}.message.success[_ngcontent-%COMP%]{background:#22c55e26;border:1px solid rgba(34,197,94,.3);color:#4ade80}.auth-switch[_ngcontent-%COMP%]{text-align:center;color:#ffffff80;font-size:.9rem}.link-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f59e0b;cursor:pointer;font-size:inherit;text-decoration:underline}.link-btn[_ngcontent-%COMP%]:hover{color:#fbbf24}.auth-note[_ngcontent-%COMP%]{text-align:center;font-size:.8rem;color:#fff6;padding:.5rem;background:#f59e0b1a;border-radius:6px}.verify-info[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#fff9;line-height:1.5}.back-to-site[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1);text-align:center}.dashboard[_ngcontent-%COMP%]{display:flex;min-height:100vh}.sidebar[_ngcontent-%COMP%]{width:280px;background:#141416f2;border-right:1px solid rgba(255,255,255,.1);display:flex;flex-direction:column;transition:width .3s ease;position:fixed;left:0;top:0;bottom:0;z-index:100}.sidebar.collapsed[_ngcontent-%COMP%]{width:70px}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar-logo[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;font-family:JetBrains Mono,monospace}.toggle-btn[_ngcontent-%COMP%]{width:32px;height:32px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;color:#fff;cursor:pointer;transition:all .2s ease}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-info[_ngcontent-%COMP%]{padding:1.25rem 1.5rem;display:flex;align-items:center;gap:.75rem;border-bottom:1px solid rgba(255,255,255,.1)}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#000;font-size:1.1rem}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.user-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;font-size:.95rem}.user-email[_ngcontent-%COMP%]{color:#ffffff80;font-size:.8rem}.stats-section[_ngcontent-%COMP%]{padding:1rem 1.5rem;display:flex;flex-direction:column;gap:.75rem;border-bottom:1px solid rgba(255,255,255,.1)}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#ffffff08;border-radius:8px}.stat-icon[_ngcontent-%COMP%]{font-size:1.25rem}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700;font-size:1.1rem}.stat-label[_ngcontent-%COMP%]{color:#ffffff80;font-size:.75rem}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto}.nav-title[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;color:#fff6;margin-bottom:.75rem;padding:0 .5rem}.nav-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:transparent;border:none;border-radius:8px;color:#ffffffb3;cursor:pointer;transition:all .2s ease;font-size:.9rem;text-align:left}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.nav-item.active[_ngcontent-%COMP%]{background:#f59e0b26;color:#f59e0b}.nav-icon[_ngcontent-%COMP%]{font-size:1.1rem;flex-shrink:0}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid rgba(255,255,255,.1)}.website-link[_ngcontent-%COMP%]{color:#22c55ecc}.website-link[_ngcontent-%COMP%]:hover{color:#4ade80;background:#22c55e1a}.logout-btn[_ngcontent-%COMP%]{color:#ef4444cc}.logout-btn[_ngcontent-%COMP%]:hover{color:#f87171;background:#ef44441a}.hidden[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]{flex:1;margin-left:280px;padding:2rem;transition:margin-left .3s ease;min-height:100vh;overflow-x:auto}.sidebar.collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%]{margin-left:70px}.content-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff}.record-count[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#f59e0b26;color:#f59e0b;border-radius:20px;font-size:.8rem;font-weight:500}.btn-refresh[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;cursor:pointer;transition:all .2s ease;font-size:.9rem}.btn-refresh[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff1a}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.table-container[_ngcontent-%COMP%]{background:#1a1a1d80;border:1px solid rgba(255,255,255,.1);border-radius:12px;overflow:hidden;max-height:calc(100vh - 180px);overflow-y:auto}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:visible;min-width:100%}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar, .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-track, .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#f59e0b80;border-radius:4px}.table-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .table-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#f59e0bb3}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.875rem}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;background:#ffffff0d;color:#ffffffb3;font-weight:600;text-align:left;white-space:nowrap;border-bottom:1px solid rgba(255,255,255,.1)}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.875rem 1rem;color:#fffc;border-bottom:1px solid rgba(255,255,255,.05);max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff08}.sno-col[_ngcontent-%COMP%]{width:60px;text-align:center;color:#ffffff80;font-weight:500}.actions-col[_ngcontent-%COMP%]{width:100px;text-align:center}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;background:transparent;border:1px solid rgba(255,255,255,.1);border-radius:6px;cursor:pointer;transition:all .2s ease}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef444480}.loading-state[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center;color:#ffffff80}.empty-icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:1rem}.spinner[_ngcontent-%COMP%]{display:inline-block;width:18px;height:18px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.spinner.large[_ngcontent-%COMP%]{width:40px;height:40px;border-width:3px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.action-btn.view[_ngcontent-%COMP%]{margin-right:4px}.action-btn.view[_ngcontent-%COMP%]:hover{background:#3b82f633;border-color:#3b82f680}.action-btn.edit[_ngcontent-%COMP%]{margin-right:4px}.action-btn.edit[_ngcontent-%COMP%]:hover{background:#f59e0b33;border-color:#f59e0b80}.inline-checkbox[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.inline-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.inline-checkmark[_ngcontent-%COMP%]{width:24px;height:24px;background:#ef444433;border:2px solid rgba(239,68,68,.5);border-radius:6px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.inline-checkmark[_ngcontent-%COMP%]:after{content:"";display:none;width:6px;height:12px;border:solid #000;border-width:0 2.5px 2.5px 0;transform:rotate(45deg);margin-bottom:2px}.inline-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .inline-checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);border-color:#22c55e}.inline-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .inline-checkmark[_ngcontent-%COMP%]:after{display:block}.inline-checkbox[_ngcontent-%COMP%]:hover   .inline-checkmark[_ngcontent-%COMP%]{transform:scale(1.1)}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.modal-content[_ngcontent-%COMP%]{background:#1a1a1d;border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:600px;max-height:90vh;overflow-y:auto;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#fff;margin:0}.modal-close[_ngcontent-%COMP%]{width:36px;height:36px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;cursor:pointer;font-size:1.1rem;transition:all .2s ease}.modal-close[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef444480}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.message-info[_ngcontent-%COMP%]{background:#ffffff08;border-radius:12px;padding:1.25rem;margin-bottom:1.5rem}.info-row[_ngcontent-%COMP%]{display:flex;margin-bottom:.75rem}.info-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.info-label[_ngcontent-%COMP%]{width:80px;color:#ffffff80;font-size:.875rem;flex-shrink:0}.info-value[_ngcontent-%COMP%]{color:#fff;font-size:.95rem}.info-value.email[_ngcontent-%COMP%]{color:#f59e0b}.status-row[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.1);gap:.75rem}.status-badge[_ngcontent-%COMP%]{padding:.375rem .75rem;background:#ffffff0d;border-radius:20px;font-size:.8rem;color:#fff9}.status-badge.read[_ngcontent-%COMP%]{background:#22c55e26;color:#4ade80}.status-badge.replied[_ngcontent-%COMP%]{background:#3b82f626;color:#60a5fa}.message-content[_ngcontent-%COMP%]{margin-bottom:1.5rem}.message-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem;color:#fff9;margin-bottom:.75rem;font-weight:500}.message-text[_ngcontent-%COMP%]{background:#ffffff08;border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1.25rem;color:#fff;line-height:1.6;white-space:pre-wrap;word-break:break-word}.reply-section[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding-top:1.5rem}.reply-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;color:#fff;margin-bottom:1rem;font-weight:600}.reply-textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:12px;color:#fff;font-size:.95rem;font-family:inherit;resize:vertical;min-height:120px;margin-bottom:1rem;transition:all .2s ease}.reply-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#f59e0b;background:#ffffff14}.reply-textarea[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.reply-textarea[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-send-reply[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#f59e0b,#d97706);border:none;border-radius:10px;color:#000;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-send-reply[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b4d}.btn-send-reply[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.reply-message[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;margin-bottom:1rem;text-align:center;font-size:.95rem}.reply-message.success[_ngcontent-%COMP%]{background:#22c55e26;border:1px solid rgba(34,197,94,.3);color:#4ade80}.reply-message.error[_ngcontent-%COMP%]{background:#ef444426;border:1px solid rgba(239,68,68,.3);color:#f87171}.reply-success-box[_ngcontent-%COMP%]{background:#22c55e0d;border:1px solid rgba(34,197,94,.2);border-radius:12px;padding:1.25rem}.copy-section[_ngcontent-%COMP%]{margin-top:1rem;background:#0000004d;border-radius:8px;padding:1rem}.copy-row[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.copy-label[_ngcontent-%COMP%]{color:#ffffff80;font-size:.85rem;min-width:60px}.copy-value[_ngcontent-%COMP%]{color:#f59e0b;font-size:.9rem;word-break:break-all}.copy-body[_ngcontent-%COMP%]{background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.75rem;color:#fff;font-size:.9rem;white-space:pre-wrap;margin-top:.5rem}.btn-close-modal[_ngcontent-%COMP%]{width:100%;margin-top:1rem;padding:.75rem;background:#ffffff1a;border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff;cursor:pointer;transition:all .2s ease}.btn-close-modal[_ngcontent-%COMP%]:hover{background:#ffffff26}.edit-modal[_ngcontent-%COMP%]{max-width:500px}.edit-info[_ngcontent-%COMP%]{background:#ffffff08;border-radius:12px;padding:1.25rem;margin-bottom:1.5rem}.edit-form[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1);padding-top:1.25rem}.edit-message[_ngcontent-%COMP%]{padding:1rem;border-radius:10px;margin-bottom:1rem;text-align:center;font-size:.95rem}.edit-message.success[_ngcontent-%COMP%]{background:#22c55e26;border:1px solid rgba(34,197,94,.3);color:#4ade80}.edit-message.error[_ngcontent-%COMP%]{background:#ef444426;border:1px solid rgba(239,68,68,.3);color:#f87171}.status-control[_ngcontent-%COMP%]{margin-bottom:1.5rem}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;cursor:pointer;padding:1rem;background:#ffffff08;border:1px solid rgba(255,255,255,.1);border-radius:12px;transition:all .2s ease}.checkbox-container[_ngcontent-%COMP%]:hover{background:#ffffff0d;border-color:#fff3}.checkbox-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkmark[_ngcontent-%COMP%]{width:28px;height:28px;background:#ffffff0d;border:2px solid rgba(255,255,255,.3);border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s ease}.checkmark[_ngcontent-%COMP%]:after{content:"";display:none;width:8px;height:14px;border:solid #000;border-width:0 3px 3px 0;transform:rotate(45deg);margin-bottom:3px}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);border-color:#22c55e}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checkbox-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled ~ .checkmark[_ngcontent-%COMP%]{opacity:.5}.checkbox-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.status-active[_ngcontent-%COMP%]{color:#4ade80;font-weight:600;font-size:1rem}.status-inactive[_ngcontent-%COMP%]{color:#f87171;font-weight:600;font-size:1rem}.status-desc[_ngcontent-%COMP%]{color:#ffffff80;font-size:.85rem}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn-cancel[_ngcontent-%COMP%]{flex:1;padding:.875rem;background:#ffffff0d;border:1px solid rgba(255,255,255,.2);border-radius:10px;color:#fff;font-size:.95rem;cursor:pointer;transition:all .2s ease}.btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffffff1a}.btn-cancel[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-save[_ngcontent-%COMP%]{flex:1;padding:.875rem;background:linear-gradient(135deg,#f59e0b,#d97706);border:none;border-radius:10px;color:#000;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #f59e0b4d}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media(max-width:768px){.sidebar[_ngcontent-%COMP%]{width:70px}.sidebar[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-logo[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-title[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .stats-section[_ngcontent-%COMP%]{display:none}.main-content[_ngcontent-%COMP%]{margin-left:70px;padding:1rem}.content-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}}']})};export{J as AdminComponent};
